[
    {
        "name": "Ability_MagicSlinger",
        "trigger": "Sling",
        "level_nid": null,
        "condition": "True",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            "level_var;TopPos;(unit.position[0],unit.position[1]-5)",
            "level_var;BottomPos;(unit.position[0],unit.position[1]+5)",
            "level_var;LeftPos;(unit.position[0]-5,unit.position[1])",
            "level_var;RightPos;(unit.position[0]+5,unit.position[1])",
            "",
            "    choice;direction;Choose Direction;North,South,East,West,End Turn",
            "    if;game.game_vars['direction'] == 'North'",
            "        if;movement_funcs.check_traversable(unit, game.level_vars.get('TopPos'))",
            "           move_unit;{unit};{var:TopPos};warp;closest",
            "        end",
            "    end",
            "    if;game.game_vars['direction'] == 'South'",
            "        if;movement_funcs.check_traversable(unit, game.level_vars.get('BottomPos'))",
            "           move_unit;{unit};{var:BottomPos};warp;closest",
            "        end",
            "    end",
            "    if;game.game_vars['direction'] == 'East'",
            "        if;movement_funcs.check_traversable(unit, game.level_vars.get('RightPos'))",
            "           move_unit;{unit};{var:RightPos};warp;closest",
            "        end",
            "    end",
            "    if;game.game_vars['direction'] == 'West'",
            "        if;movement_funcs.check_traversable(unit, game.level_vars.get('LeftPos'))",
            "           move_unit;{unit};{var:LeftPos};warp;closest",
            "        end",
            "    end"
        ],
        "nid": "Global Ability_MagicSlinger"
    }
]